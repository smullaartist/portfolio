<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://kit.fontawesome.com/a9ad003344.js"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="style.css" />

    <title>Contact</title>
  </head>
  <body>
    <div class="logo-container">
      <img src="images/logo.png" class="logo" alt="Logo" />
    </div>

    <section class="contact">
      <div class="video-container-dark">
        <video
          src="videos/videoBackgroundContact.mp4"
          autoplay
          muted
          loop
        ></video>
      </div>

      <div class="content">
        <nav>
          <ul id="sidemenu">
            <li><a href="index.html">HOME</a></li>
            <li><a href="about-me.html">ABOUT ME</a></li>
            <li><a href="projects.html">PROJECTS</a></li>
            <li><a href="contact.html" style="color: #fa2a55">CONTACT</a></li>
            <i class="fas fa-times" onclick="closemenu()"></i>
          </ul>
          <i class="fas fa-bars" onclick="openmenu()"></i>
        </nav>
        <h2 class="env-title">CONTACT</h2>
      </div>

      <div class="social-icons-container">
        <div class="social-icons">
          <a href="https://www.instagram.com/smulla.artist/" target="_blank"
            ><i class="fa-brands fa-instagram"></i
          ></a>
          <a href="https://www.tiktok.com/@smulla.artist" target="_blank"
            ><i class="fa-brands fa-tiktok"></i
          ></a>
          <a
            href="https://www.linkedin.com/in/shaun-anderson-a7154a20a/"
            target="_blank"
            ><i class="fa-brands fa-linkedin"></i
          ></a>
          <a href="https://www.artstation.com/smulla" target="_blank"
            ><i class="fa-brands fa-artstation"></i
          ></a>
          <a href="https://smulla.gumroad.com/" target="_blank"
            ><i class="fa-solid fa-g"></i
          ></a>
        </div>
      </div>
    </section>

    <section class="containercontact">
      <div class="text-position">
        <div class="text-description">
          <p>
            If you'd like to get in touch with me, please fill out the contact
            form below. Employers can also download my CV and use the form to
            reach out. For collaboration opportunities or any other inquiries,
            feel free to contact me via my social media links.
          </p>
        </div>
      </div>
      <div id="contact">
        <div class="container">
          <div class="row">
            <div class="contact-right">
              <form name="submit-to-google-sheet">
                <input
                  type="text"
                  name="Name"
                  placeholder="Your Name"
                  required
                />
                <input
                  type="email"
                  name="Email"
                  placeholder="Your Email"
                  required
                />
                <textarea
                  name="Message"
                  rows="6"
                  placeholder="Your Message"
                ></textarea>
                <div class="button-container">
                  <button type="submit" class="btn btn2">SUBMIT</button>
                  <a href="images/CV.pdf" download class="btn btn2"
                    >DOWNLOAD CV</a
                  >
                </div>
              </form>
              <span id="msg"></span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <script>
      var sidemenu = document.getElementById("sidemenu");
      var barsIcon = document.querySelector(".fa-bars");
      var timesIcon = document.querySelector(".fa-times");

      function openmenu() {
        sidemenu.classList.add("show");
        barsIcon.style.display = "none";
        timesIcon.style.display = "block";
      }

      function closemenu() {
        sidemenu.classList.remove("show");
        barsIcon.style.display = "block";
        timesIcon.style.display = "none";
      }

      // Event listeners for icons
      barsIcon.addEventListener("click", openmenu);
      timesIcon.addEventListener("click", closemenu);

      // Handle initial window size to show/hide icons based on screen size
      function checkWindowSize() {
        if (window.innerWidth > 990) {
          barsIcon.style.display = "none";
          timesIcon.style.display = "none";
          sidemenu.classList.remove("show");
        } else {
          barsIcon.style.display = "block";
          timesIcon.style.display = "none";
        }
      }

      checkWindowSize();

      // Handle window resize to maintain proper icon visibility
      window.addEventListener("resize", function () {
        checkWindowSize();
      });
      const scriptURL =
        "https://script.google.com/macros/s/AKfycbyyqq3rT4GBQbNapfTryz2TdJ56wY2wxywhNI4Rd60X3OdqzXZVu5PB8LdTIjBjEPIK/exec";
      const form = document.forms["submit-to-google-sheet"];
      const submitBtn = form.querySelector(".btn.btn2"); // Select the submit button

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        fetch(scriptURL, { method: "POST", body: new FormData(form) })
          .then((response) => {
            // Update button text to "SENT" temporarily
            submitBtn.textContent = "SENT";
            submitBtn.style.backgroundColor = "#21ADA8"; // Change button color to green
            submitBtn.disabled = true; // Disable the button

            setTimeout(function () {
              // Revert button text back to "SUBMIT" after 1.5 seconds
              submitBtn.textContent = "SUBMIT";
              submitBtn.style.backgroundColor = ""; // Reset button color
              submitBtn.disabled = false; // Re-enable the button
            }, 1500);

            // Reset the form
            form.reset();
          })
          .catch((error) => console.error("Error!", error.message));
      });
    </script>
  </body>
</html>
